d=/tmp/cpt.$$

trap 'rm -rf $d' 0 1 2 3 15
mkdir -p "$d"

# output base file name and input file
o="$1"; shift
i="$1"; shift

# output files
bov="$o.bov"
values="$o.values"

cpt0() (
    cd $d
    mkdir out
    gts-cpt "$@" > cpt.log
)

cpt0 "$@" < "$i"
cp -- "$d/wall.bov"    "$bov"
cp -- "$d/wall.values" "$values"
